services:
  builder:
    platform: linux/amd64
    build:
      context: .
      dockerfile: Dockerfile
    volumes:
      # Mount source code and build directory
      # Build artifacts will be accessible on the host
      - .:/workspace
      # Note: MXE is now built into the Docker image layers, so no volume needed
      # Each build step is cached in a separate Docker layer
      # We use bind mount for build-windows so files are accessible on host
    working_dir: /workspace
    # Keep container running for interactive use
    stdin_open: true
    tty: true

# No named volumes needed - using bind mounts for build artifacts
